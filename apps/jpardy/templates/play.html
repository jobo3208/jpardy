{% extends "base.html" %}

{% block title %}game #{{ game.pk }} | jpardy{% endblock %}

{% block content %}
<script src="{{ STATIC_URL }}js/jquery-1.7.1.js" type="text/javascript"></script>
<script type="text/javascript">
game = jQuery.parseJSON('{{ data|escapejs }}');
</script>
<script src="{{ STATIC_URL }}js/jpardy.js" type="text/javascript"></script>
<h2 class="underline">jpardy</h2>
<table id="score_board">
    <tr>
        {% for pig in game.playeringame_set.all %}
            <td>{{ pig.player.username }}</td>
            <td id="score{{ pig.pk }}" class="score">{{ pig.score }}</td>
        {% endfor %}
    </tr>
</table>
<table id="game_board">
    {% for cig in game.categoryingame_set.all %}
        <tr>
            <td>{{ cig.category.name }}</td>
            {% for qig in cig.questioningame_set.all %}
            <td><a style="text-decoration: underline;" onclick="displayQuestion(game.questions[{{ qig.pk }}]);">{{ qig.question.value }}</a></td>
            {% endfor %}
        </tr>
    {% endfor %}
</table>
<div id="question_area" style="width: 100%;">
    <h3><span id="header_category">No category</span> for <span id="header_value">no value</span></h3>
    <table>
        <tr>
            <td><strong>Question</strong></td>
            <td id="question" class="special">No question is selected.</td>
        </tr>
        <tr>
            <td><strong>Answer</strong></td>
            <td id="answer" class="special">No question is selected.</td>
        </tr>
        <tr>
            <td><strong>Who got it?</strong></td>
            <td id="who" class="special">
                {% comment %}
                <table id="players">
                    {% for pig in game.playeringame_set.all %}
                        <tr>
                            <td>{{ pig.player.username }}</td>
                            <td><button id="correct_button_{{ pig.pk }}" type="button" class="correct_button"></button></td>
                            <td><button id="incorrect_button_{{ pig.pk }}" type="button" class="incorrect_button"></button></td>
                            <td></td>
                        </tr>
                    {% endfor %}
                </table>
                {% endcomment %}
            </td>
        </tr>
    </table>
    <button type="button" onclick="hideQuestion();">Cancel</button>
    <button type="button" onclick="nobodyGotIt(currentQuestion);">Nobody got it</button>
</div>
{% endblock %}
